# UrbanEye 🏙️👁️

A modern, cross-platform mobile application that empowers citizens to report civic issues seamlessly. UrbanEye provides a simple and effective way for citizens to document and report community concerns with photo evidence and detailed descriptions.

## ✨ Features

- **📱 Cross-Platform**: Built with React Native and Expo for iOS and Android
- **🔐 Secure Authentication**: Supabase-powered user management
- **📸 Photo Capture**: Take photos or upload from gallery
- **☁️ Cloud Storage**: Secure image storage with Supabase
- **📍 Location Tracking**: Optional GPS coordinates for precise issue location
- **🔄 Real-time Updates**: Live feed of all reported issues
- **🎨 Modern UI**: Beautiful, intuitive interface with React Native Elements

## 🚀 Quick Start

### Prerequisites

- Node.js (v16 or higher)
- npm or yarn
- Expo CLI (`npm install -g @expo/cli`)
- Supabase account

### Installation

1. **Clone the repository**

   ```bash
   git clone <repository-url>
   cd UrbanEye
   ```

2. **Install dependencies**

   ```bash
   cd frontend
   npm install
   ```

3. **Set up environment variables**

   ```bash
   cp env.example .env
   ```

   Edit `.env` with your API keys:

   ```env
   SUPABASE_URL="your-supabase-project-url"
   SUPABASE_ANON_KEY="your-supabase-anon-key"
   ```

4. **Set up Supabase backend**

   - Follow the instructions in `backend/supabase_setup.md`
   - Create the database schema and storage bucket

5. **Start the development server**

   ```bash
   npm start
   ```

6. **Run on device/simulator**
   - Scan the QR code with Expo Go app
   - Or press `i` for iOS simulator or `a` for Android emulator

## 🏗️ Project Structure

```
UrbanEye/
├── backend/
│   └── supabase_setup.md      # Database setup instructions
├── frontend/
│   ├── app/                   # Expo Router screens
│   │   ├── (tabs)/           # Tab navigation
│   │   │   ├── home.tsx      # Issue feed
│   │   │   ├── report.tsx    # Report new issue
│   │   │   └── profile.tsx   # User profile
│   │   ├── _layout.tsx       # Root layout
│   │   └── index.tsx         # Authentication
│   ├── lib/                  # Client configurations
│   │   └── supabase.ts       # Database client
│   ├── components/           # Reusable UI components
│   ├── package.json
│   ├── app.json
│   └── babel.config.js
└── README.md
```

## 🔧 Technology Stack

- **Frontend**: React Native with Expo SDK 53
- **Navigation**: Expo Router (File-based routing)
- **UI Components**: React Native Elements
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **Language**: TypeScript
- **State Management**: React Hooks
- **Environment**: react-native-dotenv

## 📱 Screens

### 1. Authentication (`app/index.tsx`)

- User login and signup
- Automatic session management
- Clean, professional UI

### 2. Home Feed (`app/(tabs)/home.tsx`)

- Real-time display of all reported issues
- Pull-to-refresh functionality
- Issue cards with images and descriptions
- Floating action button for new reports

### 3. Report Issue (`app/(tabs)/report.tsx`)

- Photo capture and gallery upload
- Issue type and description input
- Image upload to Supabase Storage

### 4. User Profile (`app/(tabs)/profile.tsx`)

- User information display
- Account settings access
- Secure logout functionality

## 🗄️ Database Schema

The application uses a single `issues` table with the following structure:

```sql
CREATE TABLE public.issues (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
  issue_type TEXT NOT NULL,
  user_description TEXT NOT NULL,
  image_url TEXT NOT NULL,
  latitude DOUBLE PRECISION,
  longitude DOUBLE PRECISION,
  status TEXT DEFAULT 'reported' NOT NULL
);
```

## 🔐 Security Features

- **Row Level Security (RLS)**: Users can only modify their own reports
- **Authentication**: Supabase Auth with email/password
- **Image Storage**: Secure cloud storage with public access for viewing
- **API Security**: Environment variable protection for sensitive keys

## 🚀 Deployment

### Development

```bash
npm start
```

### Production Build

```bash
npm run build
```

### EAS Build (Expo Application Services)

```bash
npm install -g @expo/eas-cli
eas build --platform all
```

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 🆘 Support

- **Documentation**: Check the [ProjectGuide.md](ProjectGuide.md)
- **Issues**: Report bugs via GitHub Issues
- **Community**: Join our discussions for help and ideas

## 🙏 Acknowledgments

- **Expo Team**: For the amazing React Native framework
- **Supabase**: For the powerful backend-as-a-service
- **React Native Community**: For the excellent ecosystem

---

**UrbanEye** - Empowering Citizens, One Report at a Time 🏙️👁️
